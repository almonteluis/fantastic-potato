<!-- city-list.component.html -->
<div class="w-full is this being used?">
  <!-- Scrollable Table Container -->
  <div class="overflow-x-auto relative shadow-md sm:rounded-lg">
    <table
      class="min-w-full divide-y divide-gray-200 w-full text-sm text-left text-gray-500 dark:text-gray-400"
    >
      <thead
        class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"
      >
        <tr>
          <th
            (click)="handleSort('name')"
            class="py-3 px-6 cursor-pointer select-none"
          >
            Name {{ getSortIndicator("name") }}
          </th>
          <th
            (click)="handleSort('country')"
            class="py-3 px-6 cursor-pointer select-none"
          >
            Country {{ getSortIndicator("country") }}
          </th>
          <th
            (click)="handleSort('population')"
            class="py-3 px-6 cursor-pointer select-none"
          >
            Population {{ getSortIndicator("population") }}
          </th>
          <th
            *ngIf="displayedCities[0]?.capital !== undefined"
            (click)="handleSort('capital')"
            class="py-3 px-6 cursor-pointer select-none"
          >
            Capital {{ getSortIndicator("capital") }}
          </th>
        </tr>
      </thead>
      <tbody *ngIf="!isLoading && displayedCities.length > 0">
        <tr
          *ngFor="let city of displayedCities"
          class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"
        >
          <td
            class="py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white"
          >
            {{ city.name }}
          </td>
          <td class="py-4 px-6 whitespace-nowrap">
            {{ city.country }}
          </td>
          <td class="py-4 px-6 whitespace-nowrap">
            {{ city.population | number }}
          </td>
          <td
            *ngIf="city.capital !== undefined"
            class="py-4 px-6 whitespace-nowrap"
          >
            {{ city.capital === "Y" ? "Yes" : "No" }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Loading Spinner -->
  <div *ngIf="isLoading" class="flex justify-center p-4">
    <div
      class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"
    ></div>
  </div>

  <!-- No Results Message -->
  <div
    *ngIf="!isLoading && displayedCities.length === 0"
    class="text-center p-4 text-gray-500"
  >
    No cities found. Try a different search term.
  </div>
</div>
